%main.container
  %h1.general-title-margin= t('categories.title_catalog')
  .hidden-xs.clearfix
    .dropdowns.pull-right
      .dropdown.width-240
        = render partial: 'categories/dropdown_sort_filters'
    %ul.list-inline.pt-10.mb-25.mr-240
      %li.mr-35
        %div
          = link_to 'All', category_path('all_books'), class: "filter-link hover_category_color #{'def-color-chosen-category' if params[:id] == 'all_books'}"
          %span.category-count-books.badge= @books.count
      - @categories.each do |category|
        %li.mr-35
          %div
            = link_to category.name, category_path(category), class: "filter-link hover_category_color #{'def-color-chosen-category' if params[:id].to_i == category.id}"
            %span.category-count-books.badge= @books.where(category_id: category.id).count
  .dropdowns.mb-25.visible-xs
    %p.lead.small.mb-10= t('categories.filter_by_category')
    .dropdown
      %a.dropdown-toggle.lead.small{href: "#", 'data-toggle': "dropdown", role: "button", 'aria-haspopup': "true", 'aria-expanded': "false"}
        = params[:id] == 'all_books' ? 'All books' : @categories.where(id: params[:id]).first.name
        %i.fa.fa-angle-down.dropdown-icon.pull-right
      %ul.dropdown-menu
        %li
          = link_to 'All books', category_path('all_books')
        - @categories.each do |category|
          %li
            = link_to category.name, category_path(category)
    %p.lead.small.mb-10= t('categories.sort_by')
    .dropdown
      = render partial: 'categories/dropdown_sort_filters'
  .mb-120
    .row
      = render partial: 'categories/show_books_by_category'
  .row.text-center.mb-25.pagination-btns
    = pagy_nav_bootstrap(@pagy).html_safe
